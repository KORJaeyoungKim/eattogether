<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />
    <meta property="og:title" content="밥먹자!" />
    <meta property="og:description" content='맛있는건 같이 먹으면 더 맛있다!' />
    <meta
      property="og:image"
      content='../static/Logo-icon.png'
    />
    <link rel="icon" href="../static/fabicon.png">

    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
      crossorigin="anonymous"
    />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.js"></script>
    <link
      rel="stylesheet"
      href="//cdnjs.cloudflare.com/ajax/libs/timepicker/1.3.5/jquery.timepicker.min.css"
    />
    <script src="//cdnjs.cloudflare.com/ajax/libs/timepicker/1.3.5/jquery.timepicker.min.js"></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
      crossorigin="anonymous"
    ></script>

    <title>다같이-밥먹자!</title>

    <link
      href="https://fonts.googleapis.com/css2?family=Gowun+Dodum&display=swap"
      rel="stylesheet"
    />

    <style>
      * {
        font-family: "Gowun Dodum", sans-serif;
        box-sizing: border-box;
        -webkit-touch-callout: none;
        -webkit-user-select: none;
        -khtml-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        user-select: none;
        
      }

      #page-logo {
        display: flex;
        align-items: center;
        cursor: pointer;
      }

      #page-logo img {
        width: 70px;
        height: 70px;
        margin-right: 8px;
      }

      #page-logo #logo-title {
        font-size: 3rem;
        font-weight: 600;
        color: #4b6587;
      }

      body {
        background-color: #f0e5cf;
      }

      header {
        position: sticky;
        top: 0;
        height: 100px;
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 0 20px;
        margin: 0 auto;
        min-width: 1030px;
        max-width: 1200px;
        border-bottom: 8px double #4b6587;
        background-color: #f0e5cf;
        
        z-index: 1000;
      }
      #page-logo #logo-title {
        font-size: 3rem;
        font-weight: 600;
        color: #4b6587;
        
      }
      #logout-btn {
        width: 234px;
        position: absolute;
        top: 5px;
        right: 10px;
        z-index: 100;
        cursor: pointer;
      }
      #logout-btn button {
        width: 234px;
        height: 80px;
        color: #4b6587;
        font-size: 2.6rem;
        letter-spacing: 0.2rem;
        display: flex;
        justify-content: center;
        align-items: center;
        font-weight: 400;
        background-color: #f0e5cf;
        border: none;
        z-index: 101;
        opacity: 0;
        -webkit-animation: tracking-in-shrink 0.5s
          cubic-bezier(0.215, 0.61, 0.355, 1) reverse both;
        animation: tracking-in-shrink 0.5s cubic-bezier(0.215, 0.61, 0.355, 1)
          reverse both;
        
      }

      @-webkit-keyframes tracking-in-shrink {
        0% {
          letter-spacing: -0.5em;
          opacity: 0;
        }
        40% {
          opacity: 0.6;
        }
        100% {
          opacity: 1;
        }
      }
      @keyframes tracking-in-shrink {
        0% {
          letter-spacing: -0.5em;
          opacity: 0;
        }
        40% {
          opacity: 0.6;
        }
        100% {
          opacity: 1;
        }
      }

      #logout-btn button:hover {
        -webkit-animation: tracking-in-expand 0.5s
          cubic-bezier(0.215, 0.61, 0.355, 1) both;
        animation: tracking-in-expand 0.5s cubic-bezier(0.215, 0.61, 0.355, 1)
          both;
      }

      @-webkit-keyframes tracking-in-expand {
        0% {
          letter-spacing: -0.6em;
          opacity: 0;
        }
        40% {
          opacity: 0.6;
        }
        100% {
          opacity: 1;
        }
      }
      @keyframes tracking-in-expand {
        0% {
          letter-spacing: -0.6em;
          opacity: 0;
        }
        40% {
          opacity: 0.6;
        }
        100% {
          opacity: 1;
        }
      }

      #username {
        height: 80px;
        color: #4b6587;
        font-size: 2.6rem;
        letter-spacing: 0.2rem;
        display: flex;
        justify-content: center;
        align-items: center;
        font-weight: 400;
        background: none;
        border: none;
        cursor: pointer;
      }

      #username button {
        height: 80px;
        color: #4b6587;
        font-size: 2.6rem;
        letter-spacing: 0.2rem;
        display: flex;
        justify-content: center;
        align-items: center;
        font-weight: 400;
        background: none;
        border: none;
      }

      .wobble-hor-bottom {
	      -webkit-animation: wobble-hor-bottom 0.8s both;
	      animation: wobble-hor-bottom 0.8s both;
      }

      @-webkit-keyframes wobble-hor-bottom {
        0%,
        100% {
          -webkit-transform: translateX(0%);
                  transform: translateX(0%);
          -webkit-transform-origin: 50% 50%;
                  transform-origin: 50% 50%;
        }
        15% {
          -webkit-transform: translateX(-30px) rotate(-6deg);
                  transform: translateX(-30px) rotate(-6deg);
        }
        30% {
          -webkit-transform: translateX(15px) rotate(6deg);
                  transform: translateX(15px) rotate(6deg);
        }
        45% {
          -webkit-transform: translateX(-15px) rotate(-3.6deg);
                  transform: translateX(-15px) rotate(-3.6deg);
        }
        60% {
          -webkit-transform: translateX(9px) rotate(2.4deg);
                  transform: translateX(9px) rotate(2.4deg);
        }
        75% {
          -webkit-transform: translateX(-6px) rotate(-1.2deg);
                  transform: translateX(-6px) rotate(-1.2deg);
        }
      }
      
      @keyframes wobble-hor-bottom {
        0%,
        100% {
          -webkit-transform: translateX(0%);
                  transform: translateX(0%);
          -webkit-transform-origin: 50% 50%;
                  transform-origin: 50% 50%;
        }
        15% {
          -webkit-transform: translateX(-30px) rotate(-6deg);
                  transform: translateX(-30px) rotate(-6deg);
        }
        30% {
          -webkit-transform: translateX(15px) rotate(6deg);
                  transform: translateX(15px) rotate(6deg);
        }
        45% {
          -webkit-transform: translateX(-15px) rotate(-3.6deg);
                  transform: translateX(-15px) rotate(-3.6deg);
        }
        60% {
          -webkit-transform: translateX(9px) rotate(2.4deg);
                  transform: translateX(9px) rotate(2.4deg);
        }
        75% {
          -webkit-transform: translateX(-6px) rotate(-1.2deg);
                  transform: translateX(-6px) rotate(-1.2deg);
        }
      }

      #wrap {
        display: flex;
        flex-direction: column;
        align-items: center;
        max-width: 95%;
        width: 1030px;
        min-width: 1030px;
        margin: 0 auto;
      }

      #recruit-section {
        margin: 17px 0 17px 0;
        display: flex;
        flex-direction: column;
        justify-content: space-evenly;
        align-items: center;
        max-width: 95%;
        width: 1030px;
        min-width: 1030px;
        height: 220px;
      }

      #recruit-section .input-group {
        height: 60px;
        margin-bottom: 31px;
      }

      #recruit-section .input-group input {
        color: #4b6587;
        font-size: 1.3rem;
      }

      #recruit-section .input-group input::placeholder {
        color: #4b6587;
        font-size: 1.3rem;
      }
      #warningMsg {
        position: absolute;
        top: 210px;
        font-size: 1.2rem;
        letter-spacing: 0.1rem;
        color: #eb4747;
        padding-bottom: 8px;
      }
      .form-control {
        background-color: #f7f6f2;
        color: #4b6587;
      }
      .ui-timepicker-container {
        height: 155px !important;
        background-color: #f7f6f2;
      }
      .ul-timepicker {
        height: 155px;
        background-color: #f7f6f2;
      }
      .ui-timepicker-viewport {
        height: 155px;
        background-color: #f7f6f2;
      }
      .ui-timepicker-viewport li a {
        text-align: left;
        font-size: 1.1rem;
        color: #4b6587;
      }

      .card-title {
        color: #4b6587;
        font-weight: 400;
        font-size: 1.5rem;
        letter-spacing: 0.1rem;
        padding-bottom: 4px;
        border-bottom: 1px solid #4b6587;
      }

      #recruit-btn {
        width: 500px;
        height: 60px;
        font-size: 1.4rem;
        letter-spacing: 0.3rem;
        color: #f7f6f2;
        background-color: #4b6587;
        border: 5px solid #f7f6f2;
        box-shadow: 0 0 0 6px #4b6587;
        border-radius: 5px;
      }

      #recruit-btn:active {
        transform: scale(0.98);
      }

      #card-section {
        border-radius: 6px;
      }

      #card-section .row {
        padding: 8px;
        background: none;
      }

      .col,
      .card {
        width: 330px;
        height: 330px;
      }

      .col {
        position: relative;
        padding: 0;
        margin: 8px;
        box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2),
          0 6px 20px 0 rgba(0, 0, 0, 0.19);
      }

      .card-body {
        background-color: #f7f6f2;
        padding: 8px 16px 0 16px;
      }

      .card-title {
        padding-bottom: 4px;
        border-bottom: 1px solid #4b6587;
      }

      .hover-layer {
        position: absolute;
        top: 0;
        left: 0;
        bottom: 0;
        right: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(255, 255, 255, 0.6);
        z-index: 800;
        opacity: 0;
        transition: all 0.3s;
      }

      .bottom-container p span {
        font-size: 1.3rem;
        letter-spacing: 0.2rem;
      }

      .bottom-container .people-stat {
        width: 90px;
        height: 90px;
        margin-top: 5px;
        display: flex;
        flex-direction: column;
        justify-content: space-around;
        font-size: 1.5rem;
        background-color: #c8c6c6;
        border-radius: 0 0 6px 0;
      }

      .col:hover .hover-layer {
        opacity: 1;
      }

      .hover-layer .hover-btn {
        width: 296px;
        color: #f7f6f2;
        background-color: #4b6587;
        padding: 10px 0;
        border-radius: 6px;
        font-size: 1.9rem;
        letter-spacing: 0.2rem;
        position: absolute;
        top: 50%;
        left: 50%;
        -webkit-transform: translate(-50%, -50%);
        -ms-transform: translate(-50%, -50%);
        transform: translate(-50%, -50%);
        text-align: center;
        cursor: pointer;
        z-index: 300;
      }

      .container {
        position: relative;
        padding: 0;
        width: 296px;
        height: 180px;
        border-radius: 6px 6px 0 0;
      }

      .container img {
        width: 296px;
        height: 180px;
        border-radius: 6px 6px 0 0;
      }

      .container .place-name {
        position: absolute;
        bottom: 0;
        width: 296px;
        background-color: rgba(0, 0, 0, 0.65);
        color: #f7f6f2;
        text-align: center;
        font-size: 1.3rem;
      }

      .bottom-container {
        display: flex;
        width: 296px;
      }

      .bottom-container p {
        width: 200px;
        height: 90px;
        text-align: justify;
        font-size: 1.1rem;
        margin: 5px 5px 5px 0;
        padding: 4px;
        padding-left: 10px;
        background-color: #c8c6c6;
        border-radius: 0 0 0 6px;
        display: flex;
        flex-direction: column;
        justify-content: space-evenly;
      }

      .bottom-container .people-stat {
        width: 90px;
        height: 90px;
        margin-top: 5px;
        display: flex;
        flex-direction: column;
        justify-content: space-evenly;
        align-items: center;
        font-size: 1.5rem;
        background-color: #c8c6c6;
        border-radius: 0 0 6px 0;
      }
      .bottom-container .people-stat img {
        width: 40px;
      }
      .modal-dialog-scrollable {
        height: 891px;
      }
      #exampleModal .modal-dialog {
        max-width: 751px;
        width: 891px;
      }
      #detailCard {
        height: 100%;
        width: 100%;
        border-radius: 15px;
      }

      #detailCard .modal-body {
        border-bottom: none;
        background-color: #f0e5cf;
        padding: 21px 16px 10.5px 16px;
      }

      #detailCard .field {
        border-radius: 10px;
        width: 700px;
        margin: auto;
        height: 100%;
      }
      .img-fluid {
        height: 400px;
        width: 100%;
        border-radius: 10px 10px 0 0;
      }

      .place {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
      }

      .display-3 {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        color: #4b6587;
        letter-spacing: 0.1rem;
        height: 80px;
        background-color: #f0e5cf;
        width: 100%;
      }
      .content-section {
        display: flex;
        justify-content: space-between;
      }
      .content-section .left-side {
        background-color: #f7f6f2;
        width: 340px;
        height: 280px;
        display: flex;
        flex-direction: column;
        justify-content: space-around;
        align-items: flex-start;
        border-radius: 0 0 0 10px;
        padding: 15px 0 15px 15px;
      }
      .content-section .left-side .host {
        font-size: 1.7rem;
      }
      .content-section .left-side .host span {
        font-size: 2.5rem;
        letter-spacing: 0.17rem;
        color: #4b6587;
      }

      .content-section .left-side .people-count {
        line-height: 2rem;
        font-size: 1.7rem;
        letter-spacing: 0.2rem;
      }
      .content-section .left-side .time {
        font-size: 1.7rem;
        letter-spacing: 0.2rem;
        line-height: 2rem;
      }
      .content-section .left-side .people-count span {
        font-size: 3rem;
        color: #4b6587;
      }
      .guest {
        background-color: #f7f6f2;
        padding: 0 11px;
        width: 340px;
        height: 280px;
        display: flex;
        flex-direction: column;
        overflow-y: scroll;
        justify-content: space-evenly;
        border-radius: 0 0 10px 0;
      }

      /* 로딩모달창 관련 스타일 */
      #staticBackdrop .modal-body {
        display: flex;
        flex-direction: column;
        justify-content: space-around;
        align-items: center;
      }
      #staticBackdrop .btn-close {
        display: none;
      }

      #detailCard .modal-footer {
        border-top: none;
        background-color: #f0e5cf;
        display: flex;
        justify-content: center;
        align-items: center;
        padding: 10.5px 16px 21px 16px;
      }

      .modal-footer button:nth-child(1) {
        background-color: #c8c6c6;
        border: none;
        font-size: 1.3rem;
        color: black;
        width: 100px;
        margin-right: 10px;
      }

      .modal-footer button:nth-child(1):hover {
        background-color: #a3a3a3;
      }

      .modal-footer button:nth-child(1):active {
        transform: scale(0.98);
      }

      .modal-footer button:nth-child(2) {
        background-color: #4b6587;
        border: none;
        font-size: 1.3rem;
        width: 100px;
        margin-left: 10px;
      }

      .modal-footer button:nth-child(2):hover {
        background-color: #344f72;
      }

      .modal-footer button:nth-child(2):active {
        transform: scale(0.98);
      }

      /*아래는 로딩 모달창 관련 스타일입니다*/
      .loader {
        border: 10px solid #f7f6f2;
        border-radius: 50%;
        border-top: 10px solid #4b6587;
        width: 60px;
        height: 60px;
        -webkit-animation: spin 1.5s ease infinite; /* Safari */
        animation: spin 1.5s ease infinite;
        margin-bottom: 10px;
      }

      /* Safari */
      @-webkit-keyframes spin {
        0% {
          -webkit-transform: rotate(0deg);
        }
        100% {
          -webkit-transform: rotate(360deg);
        }
      }

      @keyframes spin {
        0% {
          transform: rotate(0deg);
        }
        100% {
          transform: rotate(360deg);
        }
      }

      .show-hover {
        display: none;
        font-weight: bolder;
      }

      .hover:hover .show-hover {
        display: block;
      }

      .hover:hover .hidden-hover {
        display: none;
      }
    </style>

    <script>
      $(document).ready(function () {
        resetInput();
      });
      
      function DataSend(idx) {
        $("#detailCard").empty();
        $.ajax({
          type: "GET",
          url: "/DataSend",
          data: { index_give: idx },
          success: function (response) {
            let info = response.cards;
            let guest_info = response.guest;
            let temp_html = `  
            <div class="modal-body" >
                <div class="field">
                    <img
                            src="${info.img}"
                            class="img-fluid"
                            alt="..."
                    />
                    <div class="place">
                        <h4 class="display-3">${info.place}</h4>
                    </div>
                    <div class='content-section'>
                      <div class='left-side'>
                      <h3 class="host">방장 : <span>${info.leaderId}</span></h3>
                      <h4 class='time'>${info.time}</h4>
                      <h4 class='people-count'>
                        남은 자리 <span>${
                          info.people - guest_info.length
                        }</span>명
                      </h4>
                      </div>
                    
                    <div class="guest">`;
            for (let el of guest_info) {
              let phoneNumber = el["phone"];
              if (response.check === "false") phoneNumber = "010-****-****";
              temp_html += `<div class="detailcard" style="width: 18rem">
                                          <div class="card-body">
                                              <h5 class="card-title">신청자 : ${el["id"]}</h5>
                                              <h6 class="card-subtitle mb-2 text-muted">${phoneNumber}</h6>
                                          </div>
                                      </div>`;
            }

            temp_html += `</div>
                        </div>
                        </div>
                      </div>
                      <div class="modal-footer">
                        <button
                                type="button"
                                class="btn btn-secondary"
                                data-bs-dismiss="modal"
                        >
                            Close
                        </button>
                        <button onclick="join(${info.index},${
              info.people - guest_info.length
            })" type="button" class="btn btn-primary">
                          신청하기
                        </button>
                     </div>`;
            $("#detailCard").append(temp_html);
          },
        });
      }
      //jinja2를 이용하여 카드를 붙여넣어서 필요없어짐.
      // function renderCard() {
      //   $.ajax({
      //     type: "GET",
      //     url: "/posts",
      //     data: {},
      //     success: function (response) {
      //       let row = response.cards;
      //       row.forEach((element) => {
      //         let title = element.title;
      //         let img = element.img;
      //         let place = element.place;
      //         let people = element.people;
      //         let time = element.time;
      //         let count = element.count;

      //         let cardHtml = `
      //           <div class="col" onclick="DataSend(${element.index})">
      //             <div
      //               class="hover-layer"
      //               data-bs-toggle="modal"
      //               data-bs-target="#exampleModal"
      //             >
      //             <span class="hover-btn">신청하러 가기!</span>
      //             </div>
      //             <div class="card text-center">
      //               <div class="card-body">
      //                 <h5 class="card-title">${title}</h5>
      //                 <div class="container">
      //                   <img src='${img}' alt='가게사진' />
      //                   <div class="place-name">${place}</div>
      //                 </div>
      //                 <div class="bottom-container">
      //                   <p class="card-text">
      //                     <span>모임시간</span>
      //                     <span>${time}</span>
      //                   </p>
      //                   <div class="people-stat">
      //                     <img src="../static/group-icon.png" alt="icon" />
      //                     ${count}/${people}
      //                   </div>
      //                 </div>
      //               </div>
      //             </div>
      //         `;
      //         $(".row").append(cardHtml);
      //       });
      //     },
      //   });
      // }

      function resetInput() {
        for (i = 0; i <= 3; i++) {
          let input = $(".input-group input")[i].value;
          if (input != "") {
            $(".input-group input")[i].value = "";
          } else if (input == "") {
            continue;
          }
        }
      }
      $('#page-logo').on({
        click: function() {
          console.log('done')
          window.location.reload();
        }
      })
      function cardPosting() {
        let title = $("#title-input").val();
        let place = $("#place-input").val();
        let people = $("#people-input").val();
        let time = $("#time-input").val();
        let userToken = document.cookie;

        if (userToken == '') {
          setTimeout(function () {
            $('#warningMsg')[0].innerText = '로그인이 필요한 서비스입니다.'
          }, 600);

          setTimeout(function () {
            $("#staticBackdrop .btn-close").trigger("click");
            $('#username').removeClass('wobble-hor-bottom')
            setTimeout(() => {
              $('#username').addClass('wobble-hor-bottom')
            }, 100);
          }, 500);
          return;
        }
        if (title == "" || place == "" || people == "" || time == "") {
          setTimeout(function () {
            $('#warningMsg')[0].innerText = '필수정보를 모두 입력해주세요!'
          }, 600);
          
          setTimeout(function () {
            $("#staticBackdrop .btn-close").trigger("click");
          }, 500);
          return;
        }
        $.ajax({
          type: "POST",
          url: "/posts",
          data: {
            title_give: title,
            place_give: place,
            people_give: people,
            time_give: time,
          },
          success: function (response) {
            $("#staticBackdrop .modal-body span")[0].textContent = response.msg;
            setTimeout(() => window.location.reload(), 400);
          },
        });
      }


      function numberMaxLength(e) {
        if (e.value.length > e.maxLength) {
          e.value = e.value.slice(0, e.maxLength);
        }
      }
      function sign_out() {
        $.removeCookie("mytoken", { path: "/" });
        alert("로그아웃!");
        window.location.href = "/";
      }

      //모임신청을 위한 버튼함수
      function join(idxNum, guest_count) {
        let check = $.cookie("mytoken");
        if (check === undefined) {
          alert("로그인을 해야 신청할수 있습니다.");
          return;
        }
        if (guest_count === 0) {
          alert("모집완료된 게시글입니다.");
          return;
        }
        $.ajax({
          type: "POST",
          url: "/join",
          data: { number: idxNum },
          success: function (response) {
            alert(response["msg"]);
            if (response["msg"] == "신청 완료!") window.location.reload();
          },
        });
      }
      
      //timepicker 전용 함수
      $(function () {
        $(".timepicker").timepicker({
          timeFormat: "hh:mm p",
          interval: 30,
          minTime: "06:00",
          maxTime: "11:30pm",
          defaultTime: "11",
          startTime: "00:00",
          dynamic: false,
          dropdown: true,
          scrollbar: true,
        });
      });
    </script>
  </head>
  
  <body>
    <header>
      <div id="page-logo" onclick="window.location.reload()">
        <img src="../static/small-icon.png" alt="logo" />
        <span id="logo-title"> 밥먹자 </span>
      </div>
      {% if status == 0 %}
      <div id="username">
        <button onclick="window.location.href='/signup'">
          &lt;Login first&gt;
        </button>
      </div>
      {% elif status ==1 %}
      <div id="username">&lt;{{ user_id }}&gt;</div>
      <div id="logout-btn">
        <button type="button" class="hover" onclick="sign_out()">
          &lt;/Logout&gt;
        </button>
      </div>
      {% endif %}
    </header>
    <div id="wrap">
      <div id="recruit-section">
        <div class="input-group">
          <input
            type="text"
            class="form-control"
            placeholder="제목(최대12자)"
            aria-label="title"
            id="title-input"
            maxlength="12"
            oninput="numberMaxLength(this)"
          />
          <input
            type="text"
            class="form-control"
            placeholder="상호명(최대15자)"
            aria-label="place-name"
            id="place-input"
            maxlength="15"
            oninput="numberMaxLength(this)"
          />
          <input
            type="number"
            class="form-control"
            placeholder="인원수(1 이상)"
            aria-label="people"
            id="people-input"
            min="1"
            oninput="this.value = this.value.replace(/[^1-9.]/g, '').replace(/(\..*)\./g, '$1');"
          />
          <input
            class="timepicker form-control"
            placeholder="모임시간"
            aria-label="meet-time"
            id="time-input"
          />
        </div>
        <span id="warningMsg"></span>
        <button
          id="recruit-btn"
          onclick="cardPosting()"
          data-bs-toggle="modal"
          data-bs-target="#staticBackdrop"
        >
          인원 모집하기
        </button>
      </div>
      <div id="card-section">
        <div class="row row-cols-3 row-cols-md-3">
          {% for card in cards%}
          {% set click_event = 'onclick=DataSend('~card.index~')' %}
          <div class="col" >
                  <div
                    class="hover-layer"
                    data-bs-toggle="modal"
                    data-bs-target="#exampleModal"
                    {{click_event}}
                  >                       
                  <span class="hover-btn" >신청하러 가기!</span>
                  </div>
                  <div class="card text-center">
                    <div class="card-body">
                      <h5 class="card-title">{{card.title}}</h5>
                      <div class="container">
                        <img src={{card.img}} alt='가게사진' />
                        <div class="place-name">{{card.place}}</div>
                      </div>
                      <div class="bottom-container">
                        <p class="card-text">
                          <span>모임시간</span>
                          <span>{{card.time}}</span>
                        </p>
                        <div class="people-stat">
                          <img src="../static/group-icon.png" alt="icon" />
                          {{card.count}}/{{card.people}}
                        </div>
                      </div>
                    </div>
                  </div>
            </div>
          {% endfor%}
        
      </div>
    </div>
    <div
      class="modal fade"
      id="staticBackdrop"
      data-bs-backdrop="static"
      data-bs-keyboard="false"
      tabindex="-1"
      aria-labelledby="staticBackdropLabel"
      aria-hidden="true"
    >
      <div class="modal-dialog modal-dialog-centered modal-dialog-sm">
        <div class="modal-content">
          <div class="modal-body">
            <div class="loader"></div>
            <span>잠시만 기다려주세요!</span>
            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="modal"
              aria-label="Close"
            ></button>
          </div>
        </div>
      </div>
    </div>
    <div
      class="modal fade"
      id="exampleModal"
      tabindex="-1"
      aria-labelledby="exampleModalLabel"
      aria-hidden="true"
    >
      <div class="modal-dialog modal-lg modal-dialog-scrollable">
        <div class="modal-content" id="detailCard"></div>
      </div>
    </div>
  </body>
</html>
